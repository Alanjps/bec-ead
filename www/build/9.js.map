{"version":3,"sources":["../../src/pages/notification/notification.module.ts","../../src/components/menu-sup/menu-sup.module.ts","../../src/components/menu-sup/menu-sup.ts","../../src/components/expandable/expandable.module.ts","../../src/components/expandable/expandable.ts","../../src/pages/notification/notification.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule, } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { NotificationPage } from './notification';\r\nimport { MenuSupModule } from \"../../components/menu-sup/menu-sup.module\";\r\nimport { ExpandableModule } from '../../components/expandable/expandable.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NotificationPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(NotificationPage),\r\n    MenuSupModule,\r\n    ExpandableModule\r\n  ]\r\n})\r\nexport class NotificationPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.module.ts","import { NgModule } from '@angular/core';\r\nimport { MenuSupComponent } from './menu-sup';\r\nimport { IonicModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n\tdeclarations: [MenuSupComponent],\r\n\timports: [IonicModule],\r\n\texports: [MenuSupComponent]\r\n})\r\nexport class MenuSupModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu-sup/menu-sup.module.ts","import { Component, Input } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController, ToastController, ModalController  } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { HttpServiceProvider } from '../../providers/http-service/http-service';\r\nimport { ChatPage } from '../../pages/chat/chat';\r\n\r\n@Component({\r\n  selector: 'menu-sup',\r\n  templateUrl: 'menu-sup.html'\r\n})\r\nexport class MenuSupComponent {\r\n\r\n  @Input() active: boolean;\r\n \r\n  public version : string;\r\n  public pendentChat : any = null;\r\n  public project: string;\r\n  public intervalHandle: any = null;\r\n  \r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public authService: AuthProvider,\r\n    public toastCtrl: ToastController,\r\n    public loadingCtrl: LoadingController,\r\n    public storage: Storage,\r\n    public http: HttpServiceProvider,\r\n    public modalCtrl: ModalController,\r\n  ) {\r\n\r\n    this.getUnreadChats();\r\n    if (this.intervalHandle != null) clearInterval(this.intervalHandle);\r\n    this.intervalHandle = setInterval(()=>{\r\n      this.getUnreadChats();\r\n    },5000);\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.storage.get('Project').then((value)=>{\r\n      this.project = value;\r\n      /*PROJETOS:\r\n        marketing-house\r\n        edicom\r\n        vcc\r\n      */\r\n    });\r\n    this.storage.get('LayoutVersion').then((value) => {\r\n      this.version = value;\r\n    });\r\n  }\r\n  \r\n  redirectToChatPage() {\r\n    let userModal = this.modalCtrl.create('chat-page', { pendentChat: this.pendentChat });\r\n    userModal.onDidDismiss(data => {\r\n      /* if (data){\r\n        let loading = this.loadingCtrl.create({\r\n          content: 'Espere...'\r\n        });\r\n        loading.present();\r\n        this.storage.set('first', false);\r\n        if (this.credential.firstAccess == true)\r\n          this.navCtrl.push('tab-page');\r\n        loading.dismiss();\r\n      } */\r\n    });\r\n    userModal.present();\r\n/*     if (this.navCtrl.getActive().component !== ChatPage) {\r\n      this.navCtrl.setRoot('chat-page');\r\n    } */\r\n  }\r\n\r\n  getUnreadChats(){\r\n    this.storage.get('clienteId').then((id) => {\r\n      this.http.getAll('/mensagens/remetentes', { user_id: id }, 'get')\r\n        .subscribe((data: any) => {\r\n          if (data && data.length > 0){\r\n            this.pendentChat = data;\r\n          }else{\r\n            this.pendentChat = null;\r\n          }\r\n          this.storage.set('remetentes', data);  \r\n        })\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu-sup/menu-sup.ts","import { NgModule } from '@angular/core';\r\nimport { ExpandableComponent } from './expandable';\r\nimport { IonicModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n\tdeclarations: [ExpandableComponent],\r\n\timports: [IonicModule],\r\n\texports: [ExpandableComponent]\r\n})\r\nexport class ExpandableModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/expandable/expandable.module.ts","import { Component, Input, ViewChild, ElementRef, Renderer } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'expandable',\r\n  templateUrl: 'expandable.html'\r\n})\r\nexport class ExpandableComponent {\r\n\r\n  @ViewChild('expandWrapper', {read: ElementRef}) expandWrapper;\r\n  @Input('expanded') expanded;\r\n  @Input('expandHeight') expandHeight;\r\n\r\n  constructor(public renderer: Renderer) {}\r\n\r\n  ngAfterViewInit(){\r\n    this.renderer.setElementStyle(this.expandWrapper.nativeElement, 'height', this.expandHeight + 'px');    \r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/expandable/expandable.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, LoadingController, IonicPage } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { HttpServiceProvider } from '../../providers/http-service/http-service';\r\nimport moment from 'moment';\r\n\r\n\r\n@IonicPage({\r\n  name: 'notification-page'\r\n})\r\n\r\n@Component({\r\n  selector: 'page-notification',\r\n  templateUrl: 'notification.html',\r\n})\r\nexport class NotificationPage {\r\n  private notifications : any | null;\r\n  public titleTesteira: string = '';\r\n  public complementTitle: string = '';\r\n  public lida: boolean = false;\r\n  public pendentes: any = [];\r\n  public lidos: any = [];\r\n\r\n  public globalUrl: string = '';\r\n  public version : string;\r\n  public items : any = [];\r\n  public cont : number = 0;\r\n  public idiom: string = '';\r\n  public project: string;\r\n\r\n  public totalNewNotification: number = 0;\r\n  public interval: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public loadingCtrl: LoadingController,\r\n    public storage: Storage,\r\n    public http: HttpServiceProvider\r\n  ){\r\n      storage.get('GlobalUrl').then((value) => {\r\n        this.globalUrl = value;\r\n      });\r\n\r\n      this.interval = setInterval(()=>{\r\n        this.checkForNewUserNotifications();\r\n      },5000)\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.storage.get('Idiom').then((value) => {\r\n      this.idiom = value;\r\n    });\r\n  }\r\n\r\n  ionViewWillLeave(){\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  doInfinite(infiniteScroll?) {\r\n    setTimeout(() => {\r\n      let intCont = 0;\r\n      for (let i = this.cont; i < this.notifications.length; i++) {\r\n        if (intCont < 14){ \r\n\r\n          this.items.push( this.notifications[i] );\r\n          this.cont = this.cont + 1;\r\n        }else{\r\n          break;\r\n        }\r\n        intCont ++;\r\n      }\r\n\r\n      if (infiniteScroll) infiniteScroll.complete();\r\n    }, 700);\r\n  }\r\n  \r\n  expandItem(item){\r\n    if (item.lido == 0) this.markAsRead(item);\r\n\r\n    this.items.map((listItem) => {\r\n      if(item == listItem){\r\n        listItem.expanded = !listItem.expanded;\r\n      } else {\r\n        listItem.expanded = false;\r\n      }\r\n      return listItem;\r\n    });\r\n  }\r\n\r\n  markAsRead(notificacao){\r\n    this.http.getAll('/mensagens/readNotification', { id: notificacao.id },'get')\r\n    .subscribe((data: any) => {\r\n      this.items = this.items.map((notification) => {\r\n        return notification.id == notificacao.id ? {...notification, lido: 1} : notification;\r\n      });\r\n    });\r\n\r\n\r\n  }\r\n \r\n  ionViewDidEnter () {\r\n    this.storage.get('Project').then((value)=>{\r\n      this.project = value;\r\n      /*PROJETOS:\r\n        marketing-house\r\n        edicom\r\n        vcc\r\n      */\r\n    });\r\n    this.storage.get('LayoutVersion').then((value) => {\r\n      this.version = value;\r\n    });\r\n    \r\n    this.storage.get(\"AppConfig\").then((config) => {\r\n      if (config.internoApp2 && config.internoApp2['text']){\r\n        this.titleTesteira = config.internoApp2['text'];\r\n      }else{\r\n        this.titleTesteira = this.idiom == '01' ? 'Notificações' : 'Notificaciones';\r\n      }\r\n    })\r\n    \r\n    this.complementTitle = '';\r\n\r\n    this.items = [];\r\n    this.cont = 0;\r\n    this.getUserNotifications();\r\n  }\r\n\r\n  checkForNewUserNotifications(remetente = null, lido?){\r\n    this.storage.get('clienteId').then((id) => {    \r\n      this.http.getAll('/mensagens/getNotifications', { user_id: id, lido: false }, 'get')\r\n        .subscribe(async (lido: any) => {\r\n          let total = lido.length;\r\n          if (total > 0 && this.totalNewNotification < total) {\r\n            this.cont = 0;\r\n            this.items = [];\r\n            this.getUserNotifications();\r\n          }\r\n        });\r\n    });\r\n  };\r\n\r\n  getUserNotifications(remetente = null, lido?){\r\n    this.storage.get('clienteId').then((id) => {\r\n      \r\n      let loading = this.loadingCtrl.create({\r\n        content: 'Espere...'\r\n      });\r\n      loading.present();\r\n      \r\n      this.http.getAll('/mensagens/getNotifications', { user_id: id, lido: false }, 'get')\r\n        .subscribe(async (lido: any) => {\r\n          \r\n          let total = lido.length;\r\n          this.totalNewNotification = total;\r\n\r\n          this.notifications = lido.map((r) => {\r\n            return {...r, expanded: false, created_at: moment(r.created_at).subtract(3,'hours').format('DD/MM/YYYY')}\r\n          });\r\n\r\n          await new Promise((response, reject) => {\r\n            return this.http.getAll('/mensagens/getNotifications', { user_id: id, lido: true }, 'get')\r\n            .subscribe((pendente: any) => {\r\n\r\n              this.notifications = this.notifications.concat(pendente.map((r) => {\r\n                return {...r, expanded: false, created_at: moment(r.created_at).subtract(3,'hours').format('DD/MM/YYYY')}\r\n              })).sort((a,b)=> {\r\n                return a.id < b.id ? 1 : \r\n                  a.id > b.id ? -1 : 0;\r\n              })\r\n\r\n              loading.dismiss();\r\n              response (this.notifications)\r\n            });\r\n          });\r\n          this.doInfinite();\r\n        });\r\n    });\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notification/notification.ts"],"sourceRoot":""}