{"version":3,"sources":["../../src/components/list-videos-modal/list-videos-modal.module.ts","../../src/components/list-videos-modal/list-videos-modal.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { ListVideosModalComponent } from './list-videos-modal';\r\nimport { IonicModule, IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n\tdeclarations: [ListVideosModalComponent],\r\n\timports: [\r\n\t\tIonicModule,\r\n\t\tIonicPageModule.forChild(ListVideosModalComponent)\r\n\t],\r\n\texports: [ListVideosModalComponent]\r\n})\r\nexport class ListVideosModalModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/list-videos-modal/list-videos-modal.module.ts","import { IonicPage, LoadingController, NavController, NavParams, Slides, ViewController} from 'ionic-angular';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\n\r\n@IonicPage({\r\n  name: 'list-videos-modal'\r\n})\r\n\r\n@Component({\r\n  selector: 'list-videos-modal',\r\n  templateUrl: 'list-videos-modal.html'\r\n})\r\nexport class ListVideosModalComponent {\r\n\r\n  public videos: Array<any>;\r\n  @ViewChild(Slides) slides: Slides;\r\n  @ViewChild('videoPlayer') mVideoPlayer: any;\r\n\r\n  public exibirEmbed: boolean = false;\r\n  public urlEmbed: SafeResourceUrl;\r\n  public exibirVideo: boolean = false;\r\n  public exibirThumb: boolean = false;\r\n  public playVideo: boolean = false;\r\n  private contents: [any];\r\n  public showPrevious: boolean = false;\r\n  public showNext: boolean = false;\r\n  public selectIndex: number = 0;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public viewCtrl: ViewController,\r\n    private dom: DomSanitizer,\r\n    public loadingCtrl: LoadingController,\r\n  ) {\r\n    this.contents = navParams.data;\r\n\r\n    this.getVideos(this.contents);\r\n  }\r\n\r\n  getVideos(contents){\r\n    //separa somente os videos e seleciona o primeiro conteúdo de vídeo disponível.\r\n    this.videos = [];\r\n    contents.forEach(element => {\r\n      if (element.tipo == 'video' || (element.url != null && element.tipo == \"undefined\" ) ) this.videos.push(element);\r\n    });\r\n\r\n    if (this.videos.length > 0) {\r\n      this.showVideo(this.videos[0])\r\n      this.selectIndex = 0;\r\n      if (this.videos.length > 1){\r\n        this.showNext = true;\r\n      }\r\n    };\r\n  }\r\n\r\n  dismiss() {\r\n    this.exibirEmbed = false;\r\n    this.exibirVideo = false;\r\n    this.playVideo = false;\r\n\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n  sanitizer(vid) {\r\n    return this.dom.bypassSecurityTrustResourceUrl(vid);\r\n  }\r\n\r\n  showVideo(conteudo) {\r\n    let loading = this.loadingCtrl.create({\r\n      content: 'Espere...'\r\n    });\r\n    loading.present();\r\n    \r\n    if(conteudo.url){\r\n      this.exibirEmbed = true;\r\n      this.exibirVideo = false;\r\n    }else if(conteudo.path){\r\n      this.exibirEmbed = false;\r\n      this.exibirVideo = true;\r\n    }\r\n\r\n    this.playVideo = true;\r\n\r\n    if (this.exibirVideo == true) {\r\n      setTimeout(() => {\r\n        let video = this.mVideoPlayer.nativeElement\r\n        video.src = conteudo.path;\r\n        loading.dismiss();\r\n      }, 500);\r\n    }else if (this.exibirEmbed == true){\r\n      this.urlEmbed = this.sanitizer(conteudo.url);\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  selectNext(){\r\n    let nextIndex = this.selectIndex + 1;\r\n    if (this.videos.length -1 >= nextIndex ) {\r\n      this.selectIndex = nextIndex;\r\n      this.showVideo(this.videos[nextIndex]);\r\n      if (nextIndex == this.videos.length -1) this.showNext = false;\r\n      this.showPrevious = true;\r\n    }\r\n  }\r\n\r\n  selectPrevious(){\r\n    let previousIndex = this.selectIndex - 1;\r\n\r\n    if (previousIndex >= 0 ) {\r\n      this.selectIndex = previousIndex;\r\n      this.showVideo(this.videos[previousIndex]);\r\n      if (previousIndex == 0) this.showPrevious = false;\r\n      this.showNext = true;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/list-videos-modal/list-videos-modal.ts"],"sourceRoot":""}